今回はフォームに不正な値が入力されていないかチェックする方法を学びます。

## 入力値チェックを設定する

`form` タグの中では `input` 要素や `textarea` 要素などにバリデーション（入力チェック）を設定することができます。バリデーションを設定することで、不正な値をサーバーに送信する前に弾くことができます。

例えば以下のようなバリデーションがあります。

- `required` : 入力フィールドを必須項目にできる。
    
    ```html
    <input type="text" name="username" required>
    ```
    
- `min` と`max` : 数値や日付の入力フィールドで、最小値・最大値を設定できます。
    
    ```html
    <input type="number" name="age" min="18" max="99">
    <input type="date" name="birthdate" min="1900-01-01" max="2024-12-31">
    ```
    
- `minlength` と `maxlength` : テキストフィールドで入力できる文字数の最小・最大値を制限できます。
    
    ```html
    <input type="text" name="username" minlength="5" maxlength="15">
    ```
    
- `pattern` : 正規表現を使って、入力文字がパターンに一致するかどうかをチェックできます。例えばメールアドレスや電話番号などの形式を制限できます。
    
    下のコードは「3桁の数字-4桁の数字-4桁の数字」とマッチしているかどうかを判定しています。
    
    ```html
    <input type="text" name="phone" pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}" placeholder="例: 090-1234-5678">
    ```
    
    また、下のコードはユーザーIDなどの入力で半角数字が入力されているかをチェックする例です。
    
    ```html
    <label>ユーザーID（半角英数）
      <input type="text" pattern="^[0-9A-Za-z]+$">
    </label>
    ```
    
    これは文字列が先頭から末尾まで、数字またはアルファベットのいずれか1文字以上で構成されていることを表しています。
    
    - `^` : 文字列の先頭を表す
    - `[0-9a-zA-Z]` : 0~9または半角英字（a~z,A~Z）を表す
    - `+` : 直前の文字を一回以上繰り返す
    - `$` : 文字列の末尾を表す
    
    つまりこのパターンは先頭から末尾まで数字か英字のみを受け付けていて、それ以外の文字が入力されるとエラーになります。
    

### 正規表現のおもなパターン

【文字】

- **[abc]**：a、b、cのいずれか1文字とマッチ
- **[^abc]**：a、b、c以外の1文字とマッチ
- **[0-9]**：数字（0〜9）の1文字とマッチ
- **[a-z]**：小文字アルファベット（a〜z）の1文字とマッチ
- **[A-Z]**：大文字アルファベット（A〜Z）の1文字とマッチ
- **[a-zA-Z]**：アルファベット（a〜z、A〜Z）の1文字とマッチ

【繰り返される回数】

- ****：直前の文字が0回以上繰り返されることを表す
- **+**：直前の文字が1回以上繰り返されることを表す
- **?**：直前の文字が0回または1回現れることを表す
- **{n}**：直前の文字がn回現れることを表す
- **{n,}**：直前の文字がn回以上現れることを表す
- **{n,m}**：直前の文字がn回以上、m回以下現れることを表す

【特殊な意味】

- **^**：文字列の先頭とマッチ
- **$**：文字列の末尾とマッチ

これらの正規表現パターンを組み合わせることで、様々な文字列のパターンを表現することができます。

## ハンズオン問題： フォームにバリデーションを設定しよう

次の要件を満たすフォームをindex.htmlに作成してください

- ユーザー名は `4文字` 以上 `10文字以下` となるようにバリデーションを設定してみましょう。
- ユーザー名が入力されていない場合や、文字数の条件を満たしていない場合はフォームを送信できないようにしてください。

<details>
<summary>解答例</summary>

```html
<h1>ユーザー登録</h1>

<form action="/submit" method="POST">
  <label for="username">ユーザー名:</label><br>
  <input 
    type="text" 
    id="username" 
    name="username" 
    placeholder="ユーザー名を入力してください" 
    minlength="4" 
    maxlength="10" 
    required
  >

  <input type="submit" value="送信">
</form>
```

</details>

## Git Hubへプッシュしよう

---

編集したindex.htmlをGit Hubのリモートリポジトリにプッシュしましょう！

以下のコマンドを実行します。

```bash
git add .
git commit -m "入力値チェックの作成"
git push origin main
```